<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <title>API LOG - About</title>
    <link href="styles.css" rel="stylesheet">
</head>

<body>
    <!-- Fixed navbar -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">IoT Workshop</a>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li><a href="index.html">API FrontEnd</a></li>
                    <li class="active"><a href="#">About</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container">
        <div class="jumbotron">
            <h1>API Call Log üìù</h1>
            <p>Useful bits and pieces and... <a data-toggle="tooltip" data-placement="right" data-original-title="shame on you">cheats</a></p>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h2>Overview</h2>
                <p>The system under test has 3 components.</p>
                <p><img class="center" src="img/diagram.png" width="100%"></p>
                <div class="col-lg-4">
                    <h4>ü§ñ Device</h4>
                    <p>A hardware that sends messages to an API.</p>
                </div>
                <div class="col-lg-4">
                    <h4>‚òÅÔ∏è API</h4>
                    <p>An API that receives messages and stores them.</p>
                </div>
                <div class="col-lg-4">
                    <h4>üìù UI / Front-End</h4>
                    <p>A webpage that lists all messages received by the API.</p>
                </div>
            </div>
        </div>
    </div>
    <br/>
    <br/>
    <br/>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h2>‚òÅÔ∏è About the API</h2>
                <p>This is a <a href="https://en.wikipedia.org/wiki/Representational_state_transfer">REST API</a>, coded in <a href="https://nodejs.org/en/">NodeJS</a> and it is available <a href="http://localhost:8080/api/">here</a>. It has 7 endpoints, <em>most of them</em> require authentication.</p>
                <p>Messages received are persisted on a <a href="https://www.mongodb.com/">MongoDB</a> database.</p>
                <p>This API allows you to CRUD messages. If you want to explore this API we suggest <a href="https://www.getpostman.com/">Postman</a>.</p>
                <a class="btn btn-warning" role="button" data-toggle="collapse" href="#apiCheatsWarning" aria-expanded="false" aria-controls="apiCheatsWarning">Click for spoilers</a>
                <div class="collapse" id="apiCheatsWarning">
                    <br/>
                    <p>
                        <ul>
                            <li>Basic authentication is accepted (<code>testbash</code> / <code>brighton17</code>)</li>
                            <li>There's one endpoint that tells you everything about the API.</li>
                            <li>There's one endpoint that returns data bypassing authentication.</li>
                            <li>You could wipe the database with a simple API call.</li>
                            <li>The code that powers all this is hosted publicly on GitHub.</li>
                        </ul>
                    </p>
                    <br/>
                    <a class="btn btn-danger" role="button" data-toggle="collapse" href="#apiCheats" aria-expanded="false" aria-controls="apiCheats">Confirm your lack of honor</a>
                    <div class="collapse" id="apiCheats">
                        <br/>
                        <div class="panel panel-danger">
                            <div class="panel-heading">
                                <h3 class="panel-title">TOP SECRET&nbsp;&nbsp;<i>I don't know how you had access to this info, I'll deny everything</i></h3>
                            </div>
                            <div class="panel-body">
                                <p>
                                    <ul>
                                        <li>If you call the root api endpoint ( <span class="label label-default">GET</span> <code>/api</code>) you will get a response with a JSON that describes all endpoints and all authentication methods (including passwords).</li>
                                        <li>The Front-End calls a special endpoint to list messages ( <span class="label label-default">GET</span> <code>/api/admin/message</code>). This endpoint was intended for admin access only and does not require any authentication. Anyone can use it once they find it, which is a big security flaw.</li>
                                        <li>There's one endpoint ( <span class="label label-default">DELETE</span> <code>/api/message</code>) that just deletes all messages. Again, the access to a destructive action like this should be more restricted.</li>
                                        <li>The code is open-source at <a href="https://github.com/dialex/workshop-iot-api">GitHub</a>.</li>
                                    </ul>
                                </p>
                            </div>
                        </div>
                        <div class="panel panel-info">
                            <div class="panel-heading">
                                <h3 class="panel-title">DID YOU KNOW <i>you were not supposed to read this?</i></h3>
                            </div>
                            <div class="panel-body">
                                <h4>Exercise 1: Device >> API (testing dimensions)</h4>
                                <h5>Platform</h5>
                                <ul>
                                    <li>Environment (wifi)</li>
                                    <li>Enclosing system (Particle hardware)</li>
                                </ul>
                                <h5>Interface</h5>
                                <ul>
                                    <li>Button (clicking physically)</li>
                                    <li>API (calling via REST)</li>
                                    <li>Display (logging calls on browser)</li>
                                </ul>
                                <h5>Structure</h5>
                                <ul>
                                    <li>Connections (Particle > Cloud > API > Display)</li>
                                </ul>
                                <h5>Time</h5>
                                <ul>
                                    <li>Concurrency (single call, multiple devices)</li>
                                    <li>Frequency (single device, multiple calls)</li>
                                </ul>
                                <h5>Data</h5>
                                <ul>
                                    <li>How long can your message be?</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br/>
    <br/>
    <br/>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <h2>ü§ñ About the device</h2>
                <p>This is an <a href="https://www.particle.io/products/hardware/internet-button">Internet Button</a>, built by <a href="https://www.particle.io/">Particle</a>. It is made of a <a href="https://store.particle.io/products/photon">Photon</a>, 4 buttons, 11 leds, a speaker and an accelerometer.
                </p>
                <p>We flashed the Photon with <a data-toggle="tooltip" data-placement="top" data-original-title="*holds nausea*">C++</a> code that calls the API with a custom message as parameter.</p>
                <p>Success is <span class="label label-success">green</span>. Progress is <span class="label label-primary">blue</span>. Failure is <span class="label label-danger">red</span>. <span class="label label-default">White</span> ignores you.</p>
                <blockquote>
                    <p>oooh, what does this button do?</p>
                    <footer>Dee Dee,
                        <cite>Dexter's Laboratory</cite>
                    </footer>
                </blockquote>
                <div class="col-lg-3">
                    <h4>Button 1 ‚¨ÜÔ∏è</h4>
                    <small><em>A tester...</em></small>
                    <p class="white-text">Click to play the Nyan Cat theme, rainbow included. Click again to stop.</p>
                </div>
                <div class="col-lg-3">
                    <h4>Button 2 ‚û°Ô∏è</h4>
                    <small><em>should explore...</em></small>
                    <p class="white-text">Click to send 1 message to the API. Allows spam clicking.</p>
                </div>
                <div class="col-lg-3">
                    <h4>Button 3 ‚¨áÔ∏è</h4>
                    <small><em>between...</em></small>
                    <p class="white-text">Click to send 1 message to the API. Sometimes it fails.</p>
                </div>
                <div class="col-lg-3">
                    <h4>Button 4 ‚¨ÖÔ∏è</h4>
                    <small><em>the lines...</em></small>
                    <p class="white-text">Click to send 6 messages, one after the other. Protection against spam clicking.</p>
                </div>
                <a class="btn btn-warning" role="button" data-toggle="collapse" href="#deviceCheats" aria-expanded="false" aria-controls="deviceCheats">Click for spoilers</a>
                <div class="collapse" id="deviceCheats">
                    <br/>
                    <div class="panel panel-danger">
                        <div class="panel-heading">
                            <h3 class="panel-title">TOP SECRET</h3>
                        </div>
                        <div class="panel-body">
                            <p>
                                <ul>
                                    <li>The actions of each button are displayed above in white font. Select the area to have the secret revealed.</li>
                                    <li>Button 3 succeeds on every 3rd push of the button. Example: ‚ùå ‚ùå ‚úÖ ‚ùå ‚ùå ‚úÖ</li>
                                    <li>The code is open-source at <a href="https://github.com/dialex/workshop-iot-api">GitHub</a>.</li>
                                </ul>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br/>
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <hr/>
                <h2>ü§ì About the dudes in front of me</h2>
                <div class="row">
                    <div class="col-lg-6">
                        <h3>Mark W.</h3>
                        <p class="justified">Mark is a technical test manager, testing coach and international speaker, presenting workshops and talks on technical testing techniques. He has worked on award-winning projects across a wide variety of technology sectors ranging from broadcast, digital, financial and public sector working with various Web, mobile and desktop technologies. Mark is an expert in technical testing and test automation and is a passionate advocate of risk-based automation and automation in testing practises which he regularly blogs about at mwtestconsultancy.co.uk he is also the co-founder of the Software Testing Clinic in London, a regular workshop for new and junior testers to receive free mentoring and lessons in software testing. Mark also has a keen interest in various technologies, developing new apps and Internet of thing devices regularly. You can get in touch with Mark on twitter: @2bittester</p>
                        <p class="justified">To know more about my work visit www.mwtestconsultancy.co.uk</p>
                    </div>
                    <div class="col-lg-6">
                        <h3>Diogo N.</h3>
                        <p class="justified">Diogo works with Equal Experts as an Associate, plying his trade as a tester in Portugal. After starting out as a developer, Diogo‚Äôs increasing interest in testing saw him pivot towards a greater involvement in the testing community. Perpetually curious, Diogo has many interests and side projects to his name (including his first IoT project, using the Internet Button from Particle). He regularly publishes code tutorials, tool reviews, and book summaries via his website at www.diogonunes.com, and maintains a website that encourages high school graduates to pursue Computer Science (and passes on guidance once they are undergraduates). Find him on twitter @dialexnunes.</p>
                        <p class="justified">To know more about my work visit www.diogonunes.com</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer class="footer">
        <div class="container">
            <hr/>
            <p class="text-muted"><b>Created by</b> Mark Winteringham &amp; Diogo Nunes // <b>Presented at</b> TestBash Brighton 2017</p>
        </div>
    </footer>
    <!-- Bootstrap core JavaScript
================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="lib/jquery-3.1.1.min.js"></script>
    <script src="lib/bootstrap/js/bootstrap.min.js"></script>
    <!-- API call logic
================================================== -->
    <script src="scripts.js"></script>
</body>

</html>
